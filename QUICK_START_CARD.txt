================================================================
âš¡ QUICK START CARD - AUTO-SAVE JAWABAN MODE UJIAN
Instruksi Singkat untuk Implementasi Cepat
================================================================

ğŸ¯ TUJUAN: Auto-save jawaban siswa ke database dalam mode ujian

ğŸ“Š HASIL: 3-level status di monitor (Sudah Submit, Sedang Mengerjakan, Belum Submit)

â±ï¸  WAKTU: 20 menit (quick) hingga 2 jam (thorough)

================================================================

ğŸš€ 3-STEP QUICK START
=======================

STEP 1: BACKUP & PREPARE (5 menit)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[ ] Backup database:
    mysqldump -u user -p quic1934_quizb > backup_$(date +%Y%m%d).sql
[ ] Backup index.php:
    cp index.php index.php.backup
[ ] Clear browser cache: Ctrl+Shift+Delete

STEP 2: DATABASE SETUP (2 menit)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[ ] Buka phpMyAdmin
[ ] Buka file: create_draft_attempts_table.sql
[ ] Copy seluruh content
[ ] Paste ke Tab SQL di phpMyAdmin
[ ] Klik Go
[ ] Verify: DESCRIBE draft_attempts;
    (Harus ada 9 kolom)

STEP 3: CODE & DEPLOY (3 menit)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[ ] Copy index.php (yang sudah modified)
[ ] Upload ke server
[ ] Clear browser cache
[ ] Test: Buka ujian mode
[ ] Jawab soal â†’ Check database â†’ SELECT * FROM draft_attempts;
[ ] Success! âœ“

================================================================

ğŸ“‹ VERIFICATION CHECKLIST (5 menit)
====================================

DATABASE:
  [ ] SELECT COUNT(*) FROM draft_attempts;
      (harus bisa, tidak error)
  [ ] DESCRIBE draft_attempts;
      (harus ada 9 kolom)
  [ ] SHOW INDEX FROM draft_attempts;
      (harus ada 6 indexes)

API ENDPOINT:
  [ ] Buka mode ujian
  [ ] Buka DevTools: F12 â†’ Network tab
  [ ] Jawab soal
  [ ] Lihat di Network: ada POST ke api_save_draft_answer?
  [ ] Response harus: 200 OK dan {"ok": true}

MONITOR PAGE:
  [ ] Buka ?page=monitor_jawaban
  [ ] Lihat 4 cards:
      - âœ… Sudah Submit
      - ğŸŸ¡ Sedang Mengerjakan (NEW!)
      - â³ Belum Submit
      - ğŸ“ˆ Rata-rata
  [ ] Cek tabel: ada status badge?

AUTO-SAVE FUNCTION:
  [ ] Jawab soal 1 â†’ Database check
  [ ] Ubah jawaban 1 â†’ Database update check
  [ ] Browser refresh â†’ Jawaban masih ada?
  [ ] Lanjut jawab soal 2-3
  [ ] Submit â†’ Status berubah ke âœ… Submit

================================================================

ğŸ›‘ TROUBLESHOOTING (Quick Fixes)
==================================

ISSUE                           SOLUTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Tabel tidak ada               â†’ Run SQL script lagi
API error 404               â†’ Check routing di line ~930
Monitor page blank          â†’ Check query di line ~10750
Auto-save tidak bekerja     â†’ Check console (F12) untuk error
Database insert error       â†’ Verify schema: DESCRIBE draft_attempts

===== HELP =====
Lihat file: QUICK_REFERENCE.txt (detailed troubleshooting)

================================================================

ğŸ“š DOKUMENTASI CEPAT
====================

Untuk Pemula:
  â†’ Baca: README.md (5 min)
  â†’ Lanjut: STEP_BY_STEP_IMPLEMENTATION.md (follow 12 steps)

Untuk Developer:
  â†’ Baca: IMPLEMENTATION_AUTO_SAVE_JAWABAN.md (technical)
  â†’ Reference: index.php line ~1801, ~7050, ~10750

Untuk Troubleshoot:
  â†’ Baca: QUICK_REFERENCE.txt (all solutions)
  â†’ Run: Database queries dari file tersebut

Untuk Deploy:
  â†’ Print: DEPLOYMENT_CHECKLIST.txt
  â†’ Follow: 12 phases step-by-step

Untuk Understand Flow:
  â†’ Lihat: VISUAL_SUMMARY.txt (diagrams & flows)

================================================================

ğŸ¯ 5-MINUTE TEST SCENARIO
===========================

Jalankan test ini untuk verify semua berjalan:

â”Œâ”€ SETUP (1 min)
â”‚  [ ] Login sebagai siswa
â”‚  [ ] Buka mode ujian (assignment dengan mode='ujian')
â”‚
â”œâ”€ TEST AUTO-SAVE (2 min)
â”‚  [ ] Jawab soal 1
â”‚  [ ] Database check: SELECT * FROM draft_attempts;
â”‚       â†’ Ada 1 record dengan status='draft'
â”‚  [ ] Jawab soal 2
â”‚  [ ] Database check: sekarang ada 2 records
â”‚  [ ] Ubah jawaban soal 1
â”‚  [ ] Database check: UPDATE bukan INSERT (masih 2 records)
â”‚
â”œâ”€ TEST MONITORING (1 min)
â”‚  [ ] Buka ?page=monitor_jawaban
â”‚  [ ] Cek status siswa: ğŸŸ¡ Sedang Mengerjakan
â”‚  [ ] Card "Sedang Mengerjakan" harus +1
â”‚
â””â”€ TEST SUBMIT (1 min)
   [ ] Klik "Selesaikan Ujian"
   [ ] Database check: draft_attempts status='submitted'
   [ ] Monitor refresh: status = âœ… Sudah Submit
   âœ“ SUCCESS!

================================================================

âš ï¸  CRITICAL CHECKS BEFORE DEPLOY
===================================

[ ] Backup database â†’ VERIFIED
[ ] Backup index.php â†’ VERIFIED
[ ] SQL script siap â†’ VERIFIED (sintaks OK)
[ ] index.php modified dengan benar â†’ VERIFIED (semua 5 section ada)
[ ] Test di development PASSED â†’ VERIFIED
[ ] No error in browser console â†’ VERIFIED
[ ] Database queries running â†’ VERIFIED
[ ] Monitor page updating â†’ VERIFIED

âœ“ ALL CLEAR â†’ SAFE TO DEPLOY

================================================================

ğŸ“Œ AFTER DEPLOYMENT
====================

First 24 Hours:
  [ ] Monitor error logs (tail -f error.log)
  [ ] Check database growth (SHOW TABLE STATUS)
  [ ] Monitor API calls (check for failures)
  [ ] Check user reports (any issues?)

First Week:
  [ ] Verify data accuracy
  [ ] Performance monitoring
  [ ] User training (optional)
  [ ] Schedule cleanup (optional)

Regular Maintenance:
  [ ] Weekly cleanup of old drafts
  [ ] Monthly data integrity check
  [ ] Performance monitoring
  [ ] Update documentation

================================================================

ğŸ†˜ EMERGENCY ROLLBACK
======================

Jika ada masalah CRITICAL dan perlu immediate rollback:

Option 1: Disable feature (quick)
  â†’ Edit index.php
  â†’ Comment baris fetch di handleAnswerClickExamMode (line ~7063)
  â†’ Save & reload
  â†’ Database tetap punya data (audit trail)

Option 2: Restore backup (safer)
  â†’ mysql -u user -p quic1934_quizb < backup_YYYYMMDD.sql
  â†’ cp index.php.backup index.php
  â†’ Redeploy
  â†’ Contact untuk full review sebelum retry

Option 3: Full reset (nuclear)
  â†’ DROP TABLE draft_attempts;
  â†’ Restore index.php.backup
  â†’ Start over
  (Data loss, only if absolutely necessary)

===== RECOMMENDATION =====
Jangan langsung rollback, hubungi developer/tech lead dulu.
Sebagian besar issue bisa di-fix tanpa rollback.

================================================================

ğŸ’» COMMAND REFERENCE
======================

DATABASE QUERIES:

# Check tabel terbuat
SELECT * FROM draft_attempts LIMIT 1;

# Count records by status
SELECT status, COUNT(*) FROM draft_attempts GROUP BY status;

# Find oldest records (for cleanup)
SELECT * FROM draft_attempts WHERE status='draft' 
  AND saved_at < DATE_SUB(NOW(), INTERVAL 7 DAY);

# Cleanup old drafts
DELETE FROM draft_attempts WHERE status='draft' 
  AND saved_at < DATE_SUB(NOW(), INTERVAL 30 DAY);

# Check query time
EXPLAIN SELECT * FROM draft_attempts WHERE session_id = 123;

TEST CURL:

# Test API endpoint
curl -X POST http://localhost/index.php?action=api_save_draft_answer \
  -H "Content-Type: application/json" \
  -d '{"session_id":1,"user_id":1,"question_id":1,"choice_id":1,"is_correct":1}'

BROWSER CONSOLE (F12):

# Check for errors
console.error()

# Check auto-save
fetch('?action=api_save_draft_answer', {...})

# Check network tab
Network â†’ Filter: api_save_draft_answer

================================================================

ğŸ“± KEY INFORMATION
===================

DATABASE:
  Table: draft_attempts
  Columns: 9
  Indexes: 6
  Constraints: 3 FK
  Purpose: Store draft answers before final submit

API ENDPOINT:
  URL: ?action=api_save_draft_answer
  Method: POST
  Response: JSON {"ok": true/false, ...}
  Purpose: Auto-save individual answer

STATUS LEVELS:
  âœ… Sudah Submit - answer saved in attempts table
  ğŸŸ¡ Sedang Mengerjakan - answer in draft_attempts (status='draft')
  â³ Belum Submit - no answer recorded

TIMING:
  Auto-save: ~50-200ms (network + server)
  Monitor query: ~200-500ms
  Page load: ~1-3 seconds

RISK LEVEL: LOW (non-destructive, data always backed up in DB)

================================================================

ğŸ“ LEARNING RESOURCES
======================

5-MINUTE OVERVIEW:
  â†’ README.md

15-MINUTE UNDERSTANDING:
  â†’ README.md + VISUAL_SUMMARY.txt

30-MINUTE TECHNICAL UNDERSTANDING:
  â†’ All above + IMPLEMENTATION_AUTO_SAVE_JAWABAN.md

IMPLEMENTATION (HANDS-ON):
  â†’ STEP_BY_STEP_IMPLEMENTATION.md (follow 12 steps)

DEPLOYMENT TRACKING:
  â†’ DOCUMENTATION_CHECKLIST.txt (print & check off)

QUICK HELP:
  â†’ QUICK_REFERENCE.txt (bookmark this!)

================================================================

âœ¨ SUCCESS INDICATORS
=======================

Setelah deployment, harusnya ada:

âœ“ Database: draft_attempts table dengan data
âœ“ API: api_save_draft_answer endpoint responding
âœ“ JavaScript: Auto-save fetch call di console
âœ“ UI: Monitor page menampilkan 3-level status
âœ“ Performance: Query < 2 seconds, API < 200ms
âœ“ Data: No errors, 100% consistency
âœ“ Users: Happy, no data loss complaints

Jika semua âœ“, implementasi SUKSES! ğŸ‰

================================================================

â° TIME ESTIMATE
=================

Phase 1: Preparation           5 min
Phase 2: Database Setup        2 min
Phase 3: Code Deployment       3 min
Phase 4: Verification          5 min
Phase 5: Post-Deploy Monitor   10 min

TOTAL (Quick Path): ~25 minutes

TOTAL (Thorough Path): ~2-4 hours (with full testing)

================================================================

ğŸ“ WHO TO CONTACT
==================

Database Issue:
  â†’ Contact: DBA / DevOps
  â†’ Reference: create_draft_attempts_table.sql

Code Issue:
  â†’ Contact: Developer
  â†’ Reference: index.php (search â–¼â–¼â–¼ markers)

API Issue:
  â†’ Contact: Backend Developer
  â†’ Reference: api_save_draft_answer() function

UI Issue:
  â†’ Contact: Frontend Developer
  â†’ Reference: handleAnswerClickExamMode() & view_monitor_jawaban()

Overall Help:
  â†’ Reference: QUICK_REFERENCE.txt Troubleshooting section

================================================================

ğŸ¯ FINAL CHECKLIST BEFORE GOING LIVE
======================================

Pre-Deployment:
  [ ] All backups created
  [ ] All documentation read
  [ ] All tests passed
  [ ] Team briefed
  [ ] Rollback plan ready

Deployment:
  [ ] SQL script executed
  [ ] Code deployed
  [ ] Cache cleared
  [ ] System verified
  [ ] Users notified

Post-Deployment:
  [ ] Monitor for 24 hours
  [ ] Logs checked
  [ ] Performance OK
  [ ] No user complaints
  [ ] Schedule maintenance

Go-Live Checklist: âœ“ COMPLETE

================================================================

ğŸš€ READY TO DEPLOY!

Jika checklist di atas sudah âœ“ semua, Anda siap untuk:

1. Run SQL script di production
2. Deploy index.php ke production
3. Clear cache & test
4. Monitor untuk 24 jam
5. Announce fitur ke users
6. Schedule maintenance

GOOD LUCK! ğŸ‰

================================================================

Quick Card Version: 1.0
Created: 2025-12-16
Print Date: _________________

================================================================
